<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Include Bootstrap CSS for styling -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <title>Adamtify</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style/base.css') }}">
</head>
<body>
    <!-- Always Visible Header -->
    <header>
        <div class="container">
            <div class="row align-items-center">
                <div class="col-4 section1">
                    <a href="{{ url_for('index') }}">
                        <img src="{{ url_for('static', filename='images/home-icon.png') }}" alt="Home" class="home-icon"> <!-- Replace with your image -->
                    </a>
                </div>
                <div class="col-4 section2">
                    <p>Adamtify</p>
                </div>
                <div class="col-4 section3">
                    {% if g.user %}
                        <a href="{{ url_for('profile', user_id=g.user.user_id) }}">
                            <img src="https://ui-avatars.com/api/?name={{ g.user.firstname }}+{{ g.user.lastname }}&size=200&background=random" 
                                 alt="Profile Picture" class="profile-pic">
                        </a>
                    {% else %}
                        <a href="{{ url_for('login') }}" class="nav-link">
                            <img src="{{ url_for('static', filename='images/login-nobck.png') }}" alt="Login" class="nav-image">
                        </a>
                    {% endif %}
                </div>
            </div>
        </div>
    </header>

    {% block content %}{% endblock %}

    <!-- Footer with Chat Button -->
    <footer>
        <div class="container text-center">
            <button id="chatButton" class="btn btn-primary">Chat with MusicBot</button>
        </div>
    </footer>

    <!-- Chat Interface (Initially hidden) -->
    <div id="chatContainer" class="chat-container">
        <div class="chat-header">
            <h5>MusicBot</h5>
            <button id="closeChat" class="btn-close" aria-label="Close"></button>
        </div>
        <div id="chatMessages" class="chat-messages"></div>
        <input type="text" id="userMessage" class="chat-input" placeholder="Ask something...">
        <button id="sendMessage" class="btn btn-primary">Send</button>
    </div>

    <!-- JavaScript includes -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous"></script>
    <script src="{{ url_for('static', filename='js/chat.js') }}"></script>
</body>
</html>
